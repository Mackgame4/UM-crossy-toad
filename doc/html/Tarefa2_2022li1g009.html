<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa2_2022li1g009</title><link href="haskell.css" rel="stylesheet" type="text/css" title="theme" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>F&#225;bio Magalh&#227;es &lt;a104365@alunos.uminho.pt&gt;<br />Pedro Ros&#225;rio &lt;a100536@alunos.uminho.pt&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tarefa2_2022li1g009</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Fun&#231;&#245;es principais</a></li><li><a href="#g:2">Fun&#231;&#245;es auxiliares</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 2 do projeto de LI1 em 2022/23.</p><p><strong>Nota:</strong> <code>Para a realiza&#231;&#227;o desta tarefa, foi necess&#225;rio utilizar a fun&#231;&#227;o </code> <code><a href="Tarefa1_2022li1g009.html#v:mapaValido" title="Tarefa1_2022li1g009">mapaValido</a></code> <code> da Tarefa 1, que se encontra no m&#243;dulo <code>Tarefa1_2022li1g009</code>.</code></p><h2>Bibliotecas utilizadas:</h2><pre>import System.Random</pre><h4>Instala&#231;&#227;o das bibliotecas:</h4><pre>$ cabal install --lib random</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:estendeMapa">estendeMapa</a> :: <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a> -&gt; Int -&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></li><li class="src short"><a href="#v:proximosTerrenosValidos">proximosTerrenosValidos</a> :: <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a> -&gt; [<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>]</li><li class="src short"><a href="#v:proximosObstaculosValidos">proximosObstaculosValidos</a> :: Int -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]</li><li class="src short"><a href="#v:velocidadeRandom">velocidadeRandom</a> :: Int -&gt; Int</li><li class="src short"><a href="#v:chooseRandom">chooseRandom</a> :: Int -&gt; [a] -&gt; a</li><li class="src short"><a href="#v:listaObstaculos">listaObstaculos</a> :: Int -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; Int -&gt; [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#245;es principais</h1></a><div class="top"><p class="src"><a id="v:estendeMapa" class="def">estendeMapa</a> <a href="#v:estendeMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></td><td class="doc"><p>Mapa atual</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>N&#250;mero aleat&#243;rio que ser&#225; usado para gerar um mapa</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></td><td class="doc"><p>Mapa estendido</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:estendeMapa" title="Tarefa2_2022li1g009">estendeMapa</a></code> que estende as linhas possiveis &#224; frente do mapa, de forma randomica.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>estendeMapa (Mapa 3 [(Relva, [Arvore, Nenhum, Nenhum])]) 3
</code></strong>Mapa 3 [(Relva,[Arvore,Nenhum,Nenhum]),(Relva,[Arvore,Nenhum,Nenhum])]
</pre><h2>Propriedades:</h2><p><strong> Utiliza a fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:chooseRandom" title="Tarefa2_2022li1g009">chooseRandom</a></code> para escolher um elemento aleat&#243;rio de uma lista de elementos dada pela fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:proximosTerrenosValidos" title="Tarefa2_2022li1g009">proximosTerrenosValidos</a></code> e em seguida gera os obst&#225;culos possiveis para esse terreno utilizando a fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:listaObstaculos" title="Tarefa2_2022li1g009">listaObstaculos</a></code>. </strong></p></div></div><div class="top"><p class="src"><a id="v:proximosTerrenosValidos" class="def">proximosTerrenosValidos</a> :: <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a> -&gt; [<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>] <a href="#v:proximosTerrenosValidos" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:proximosTerrenosValidos" title="Tarefa2_2022li1g009">proximosTerrenosValidos</a></code> que determina os pr&#243;ximos terrenos possiveis &#224; frente do mapa.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>proximosTerrenosValidos (Mapa 3 [(Relva, [Arvore, Nenhum, Nenhum])])
</code></strong>[Rio 2,Estrada 2,Relva]
</pre><h2>Propriedades:</h2><pre>proximosTerrenosValidos (Mapa l []) = [Rio _, Estrada _, Relva]</pre><p><strong> Utiliza a fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:velocidadeRandom" title="Tarefa2_2022li1g009">velocidadeRandom</a></code> para gerar um n&#250;mero aleat&#243;rio entre -3 e 3, que ser&#225; usado como velocidade do novo terreno do mapa. </strong></p></div></div><div class="top"><p class="src"><a id="v:proximosObstaculosValidos" class="def">proximosObstaculosValidos</a> :: Int -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>] <a href="#v:proximosObstaculosValidos" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:proximosObstaculosValidos" title="Tarefa2_2022li1g009">proximosObstaculosValidos</a></code> que determina os pr&#243;ximos obst&#225;culos possiveis &#224; frente do mapa.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>proximosObstaculosValidos 3 (Relva, [Arvore, Nenhum, Nenhum])
</code></strong>[]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>proximosObstaculosValidos 3 (Relva, [Arvore, Nenhum])
</code></strong>[Nenhum, Arvore]
</pre><h2>Propriedades:</h2><pre>proximosObstaculosValidos 0 _ = []</pre><pre>proximosObstaculosValidos l (_, obstaculos) | l == (length obstaculos) = []</pre></div></div><a href="#g:2" id="g:2"><h1>Fun&#231;&#245;es auxiliares</h1></a><div class="top"><p class="src"><a id="v:velocidadeRandom" class="def">velocidadeRandom</a> <a href="#v:velocidadeRandom" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Seed para gerar um n&#250;mero aleat&#243;rio</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>N&#250;mero aleat&#243;rio entre -1 e 1</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:velocidadeRandom" title="Tarefa2_2022li1g009">velocidadeRandom</a></code> gera um n&#250;mero aleat&#243;rio entre -1 e 1, que ser&#225; usado na fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:proximosTerrenosValidos" title="Tarefa2_2022li1g009">proximosTerrenosValidos</a></code> para gerar um mapa.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:velocidadeRandom0">Alternativamente a fun&#231;&#227;o pode ser definida entre 1 e 3 da seguinte forma:</h3><details id="ch:velocidadeRandom0"><summary class="hide-when-js-enabled">Expand</summary><pre>velocidadeRandom s = (mod (head (randoms (mkStdGen s))) 3) + 1
</pre><p>ou entre -2 e 2 da seguinte forma:</p><pre>velocidadeRandom s = (mod (head (randoms (mkStdGen s))) 5) - 2
</pre><p>ou:</p><pre>velocidadeRandom s = fst (randomR (-2, 2) (mkStdGen s))
</pre></details><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>velocidadeRandom 1
</code></strong>1
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>velocidadeRandom 3
</code></strong>-1
</pre></div></div><div class="top"><p class="src"><a id="v:chooseRandom" class="def">chooseRandom</a> <a href="#v:chooseRandom" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Seed para gerar um n&#250;mero aleat&#243;rio</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>Lista de elementos</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Elemento aleat&#243;rio da lista</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:chooseRandom" title="Tarefa2_2022li1g009">chooseRandom</a></code> escolhe um elemento aleat&#243;rio de uma lista de acordo com um seed.</p><h3 class="subheading details-toggle-control details-toggle" data-details-id="ch:chooseRandom0">A fun&#231;&#227;o pode tamb&#233;m ser definida da seguinte forma:</h3><details id="ch:chooseRandom0"><summary class="hide-when-js-enabled">Expand</summary><pre>chooseRandom s [] = error &quot;Lista vazia&quot;
chooseRandom s xs = xs !! (mod (head (randoms (mkStdGen (s)))) (length xs))
</pre></details><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>chooseRandom 1 [1,2,3]
</code></strong>1
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>chooseRandom 2 [1,2,3]
</code></strong>3
</pre></div></div><div class="top"><p class="src"><a id="v:listaObstaculos" class="def">listaObstaculos</a> <a href="#v:listaObstaculos" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>N&#250;mero de elementos da linha pretendida</p></td></tr><tr><td class="src">-&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])</td><td class="doc"><p>Terreno e lista de obst&#225;culos da linha anterior</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Seed para gerar uma lista nova</p></td></tr><tr><td class="src">-&gt; [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]</td><td class="doc"><p>Lista de obst&#225;culos nova</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:listaObstaculos" title="Tarefa2_2022li1g009">listaObstaculos</a></code> que gera uma nova lista de obst&#225;culos para uma dada linha com <strong><code>l (:: Int)</code></strong> elementos.</p><h2>Exemplos de utiliza&#231;&#227;o:</h2><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>listaObstaculos 3 (Relva, [Arvore, Nenhum]) 3
</code></strong>[Arvore,Nenhum,Nenhum]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>listaObstaculos 3 (Relva, [Arvore, Nenhum]) 2
</code></strong>[Nenhum,Arvore,Arvore]
</pre><h2>Propriedades:</h2><pre>listaObstaculos 0 (_, []) n = []</pre><p><strong> Utiliza a fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:chooseRandom" title="Tarefa2_2022li1g009">chooseRandom</a></code> para escolher um obst&#225;culo aleat&#243;rio de uma lista dada pela fun&#231;&#227;o <code><a href="Tarefa2_2022li1g009.html#v:proximosObstaculosValidos" title="Tarefa2_2022li1g009">proximosObstaculosValidos</a></code>. </strong></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>